type Account @entity {
    "Account address"
    id: ID!
    balance: BigInt!
    historicalBalances: [HistoricalBalance!] @derivedFrom(field: "account")
}

type HistoricalBalance @entity {
    id: ID!
    account: Account!
    balance: BigInt!
    timestamp: BigInt!
}

type Transfer @entity @index(fields: ["from", "to"]) @index(fields: ["timestamp", "from", "to"]) {
    id: ID!
    timestamp: BigInt! @index
    from: Account!
    to: Account!
    amount: BigDecimal! @index
}
