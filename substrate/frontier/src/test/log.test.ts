import * as log from '../log'
import expect from 'expect'

describe('EvmLog', () => {
    it('V0', () => {
        expect(
            log.getAsV0({
                address: '0xdce06ffe78aaac2894109a56ba83c3c33b073f44',
                data: '0x',
                topics: [
                    '0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0',
                    '0x0000000000000000000000000000000000000000000000000000000000000000',
                    '0x000000000000000000000000a5bd5c661f373256c0ccfbc628fd52de74f9bb55',
                ],
            })
        ).toEqual({
            address: '0xdce06ffe78aaac2894109a56ba83c3c33b073f44',
            data: '0x',
            topics: [
                '0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0',
                '0x0000000000000000000000000000000000000000000000000000000000000000',
                '0x000000000000000000000000a5bd5c661f373256c0ccfbc628fd52de74f9bb55',
            ],
        })
    })

    it('V1', () => {
        expect(
            log.getAsV1({
                log: {
                    address: '0xf27a6c72398eb7e25543d19fda370b7083474735',
                    data: '0x',
                    topics: [
                        '0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925',
                        '0x0000000000000000000000006d73e2920a92931be76f487a2e29f67b4d7858f9',
                        '0x0000000000000000000000000000000000000000000000000000000000000000',
                        '0x0000000000000000000000000000000000000000000000000000000000000959',
                    ],
                },
            })
        ).toEqual({
            address: '0xf27a6c72398eb7e25543d19fda370b7083474735',
            data: '0x',
            topics: [
                '0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925',
                '0x0000000000000000000000006d73e2920a92931be76f487a2e29f67b4d7858f9',
                '0x0000000000000000000000000000000000000000000000000000000000000000',
                '0x0000000000000000000000000000000000000000000000000000000000000959',
            ],
        })
    })
})
